# 整合工具思路
1. 引入必要的库和模块：`pymysql`用于连接数据库，`boto3`用于访问AWS服务，`re`用于正则表达式匹配，`argparse`用于解析命令行参数，`logging`用于日志记录。
2. 配置日志记录：通过`logging.basicConfig`配置日志记录器，将日志信息写入到文件中。
3. 定义数据库连接信息：将数据库主机名、用户名、密码和数据库名存储在全局变量中，以便连接到数据库。
4. 实现检测AWS访问密钥的函数：使用`boto3`库初始化AWS客户端，通过`list_users`方法获取所有IAM用户，然后遍历每个IAM用户，检查其权限和策略，并查找访问密钥，以及获取访问密钥的权限和最后使用时间。
5. 实现检测数据库API密钥泄露的函数：通过`pymysql`库连接到数据库，执行SQL查询来检索包含API密钥的行，如果有敏感信息，将其记录并进行处理。
6. 实现检测文件硬编码API密钥的函数：读取指定文件的内容，使用正则表达式匹配AWS访问密钥和Azure访问令牌，如果找到了，将其记录。
7. 实现检测日志文件泄露导致的API密钥泄露的函数：读取指定日志文件的内容，使用正则表达式查找含有敏感信息的行，如果找到了，将其记录。
8. 实现主函数：使用`argparse`解析命令行参数，并根据参数执行相应的检测函数。
9. 添加文件读取接口：使用`input`函数在命令行中提示用户输入文件路径，并调用`check_hardcoded_api_key`函数检测文件中的硬编码API密钥。
10. 在`__main__`中调用主函数。
（这里的控制身份检测仅以AWS为参考，代码仅为练手使用检测文件和日志功能大概率正常）